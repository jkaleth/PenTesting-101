# Scripting

## General Scripting

### An element of a well-written script

-**Parameters** - that the script takes as input data and the system passes to the script as arguments.

-**Branching and Looping** - statements that can alter the flow of execution based on conditions.

-**Unit tests**  to ensure that the script returns the expected outputs, given the expected inputs.

## Coding in Bash

Bash is not object oriented

```#!/bin/bash```

-**my_str=**  is a Bash command used to assign a variable. The lack of whitespace around the equals signthis is a strict rule in Bash. PowerShell, Python, and Ruby allow whitespace.

## Coding in Powershell

Get-This
Get-that
Select-this

**$my_str =** is a PowerShell command used to assign a variable. PowerShell requires the dollar sign for a variable assignment.

``` 
# for commenting code
```
All Variables start with $

```
$variable = value
$CustomerName = Jason
```
Only contain an integer
```
[int]$AnswerNumber = 42
```

To declare a constant make the variable read only
```
Set-Variable Pi -Option ReadOnly -Value 3.149
```
Phone book to store names and numbers

```
$PhoneBook = @{}
```
Loops

```
Do 

Do Until

For
```

## Coding in Python

 - Uses the term dictionary

- Python is the only one that uses the "print" command

 - **classes** - **TEMPLATES** -which are user-defined prototypes or templates from which PenTesters can create objects and they allow the PenTester to bundle data and functionality together.

- **modules** - **Reusable Functions** - are a way for the PenTester to code re-usable functions, variables, and classes that the tester can import into scripts.

 - **Pre-built libraries**. **Existing Modules**  - Importing and using existing modules in libraries can save the PenTester a lot of time because the tester is re-using modules that others have already created.

 ### Types of Attacks

 - **XSS attacks and PenTesting** - **Javascript** - The PenTester will most likely use JavaScript which developers use alongside HTML and CSS on the World Wide Web and PenTesters use it heavily in XSS attacks and PenTesting.

 ### Searching

 - **greppable** file - The PenTester will save the scan results to a greppable file which is a Linux command for searching and filtering input. The PenTester can use this as a file search tool when combined with ls.

## More Commands

 -**import** - declares a pre-existing library that the script can use. If it is an external library module, the PenTester will need to download and install it before it can be imported

 -**def** - defines a function in Python. Functions, or Procedures, produce modular, reusable code by grouping a block of code under a name that can call the function whenever needed.

 ### Uses Whitespace around equal signs

 - Powershell
 - Ruby
 - Python

 BASH does not use white space between equal signs

 ### Programming Languages

 - Perl 
 - Ruby
 - Python

 NOT POWERSHELL or BASH

Comments with #. needs to ber in front of every single line to comment

### Scripting Components

-**Functions** - **Reusable code** - The PenTester is using functions, or procedures, which produce modular, reusable code and allow the PenTester to group a block of code under a name and call this named function whenever needed.

-**Modules** - **re-usable functions**, variables, and classes that PenTesters can import into multiple scripts. 

-**Trees** - appear inverted in data representation, where the root is at the top and the branchesgo down, with a leafobject at the end of a branch.

-A **class** - is a user-defined prototype or template, which can hold its own functions and creates objects. Classes allow PenTesters to bundle data and functionality together.

### Phonebook code

```
PhoneBook = {}
PhoneBook = ['name'='Jason'='number'='1234'}
```
is equal to

```
a == b
```
is not equal to

```
a != b 
or
a <> b
```

is greater than

a < b
a <= b

## Coding in Ruby

Metasploit framework uses Ruby

- Global - $
- Local - _ or lowercase
- Instance - @
- Classs - @@
 
## Coding in Perl
You don't have to declare variable types

```
$ variable = value;
```
Constants
```
use constant PI => 3.14159
```
Arrays
```
@tempArray = (value1, value2, value3);
```
```
%people = ("John" , "Melinda";)
```
less than or equal to 
```
-le

if ($a -le $b)
```
is equal to
```
if ($a == $b)
```