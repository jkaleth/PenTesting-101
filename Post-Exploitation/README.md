# Post-Exploitation

## Enumerating the Network
    - Host Enumeration
    - Network Enumeration
    - Infrastructure Enumeration
    - Privilege Escalation
    - Persistence
    - Covert channeles to exfiltrate data

**Step 1**- Search through Active Directory
```
Get Users Current Domain
ps:\ Get-NetDomain
```
```
Current Logged On Users
ps:\ Get-NetLoggenOn
```

**Step 1**- Enumeratin Linux Users

```
Liux user commands

$ cat /etc/passwd - display users on Linux machine
$ uname -a - display OS
$ env - list environmental variables
$

```

**Step 2**- Setup Network Sniffer

```
- Use Metasploit's capture packet function
- Using Wireshark to analyze packets

```

**Step 3**- Discover what's on the share drive to see what's unencrypted. 

# Network Segmentation Testing
Network segment is where all host can commuication freely with each other. Using subnets, vlans, and firewalls. 

#### Network segmentation fails when there's a:
    - Misconfigured Firewall
    - Legacy rules not removed from firewall
    - ANY:ANY permissions
    - 3rd party management service causing access

#### How to test segmentation is working properly:
    - Run port scan as that regular user on the environment you want to check access to to make sure you can't get an IP. 


## Lateral Movement and Pivoting
Search through the network to identify key data to get you to the target of a campaign. 

    - Pivoting - Use one infected computer to attack another. 

## Pass The Hash
    - Steal hashed user credentials and use them as-is snd try to authenticate with them on the same network and still be able to authenticate with SMB and Kerberos. 

    - It's commonly used to elevate privileges

### Mimikatz
    - Scans system memory for cached passwords processed by the local Security Authority Subsystem Service (lsass.exe)
    
    - you can use Metasploit 

## Golden Ticket

## Lateral Movement

## Pivoting

## Escalating Privileges

## Upgrading Restrictive Shells

## 
 
